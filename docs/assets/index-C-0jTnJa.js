import{r as i,j as e,R as w}from"./index-B10m1NXo.js";import{v as a,w as y,x as T,y as N,W as k,z as h,D as m,E as b,F as s,G as c,H as l}from"./MacroContext-Cqy6Ckua.js";import{T as E}from"./textarea-80kmSHBx.js";import"./monaco-editor-Dq6WuQlL.js";function S(r,t,o){const d=async n=>{if(!n||typeof n.value!="string")return{success:!1,error:"setValue requires 'value'"};const g={target:{value:n.value}};return o.current(g),{success:!0,data:{value:n.value}}},u=async()=>({success:!0,data:{value:t.current}}),p=async()=>{const n={target:{value:""}};return o.current(n),{success:!0}},x=async n=>{if(!n||typeof n.text!="string")return{success:!1,error:"appendText requires 'text'"};const g=t.current+n.text,v={target:{value:g}};return o.current(v),{success:!0,data:{value:g}}};return a(r,"setValue",d),a(r,"getValue",u),a(r,"clear",p),a(r,"appendText",x),a(`${r}@src`,"setValue",d),a(`${r}@src`,"getValue",u),a(`${r}@src`,"clear",p),a(`${r}@src`,"appendText",x),()=>{}}const C=y(E),f=i.forwardRef(({apiId:r,value:t,onChange:o,className:d,...u},p)=>{const x=i.useRef(t);i.useEffect(()=>{x.current=t},[t]);const n=i.useRef(o);return i.useEffect(()=>{n.current=o},[o]),i.useEffect(()=>S(r,x,n),[r]),e.jsx(C,{ref:p,apiId:r,apiType:"Textarea",apiDescription:"A text area component for multi-line text input",apiPath:"/components/textareas",apiActions:T,apiState:{enabled:!0,visible:!0,value:t},value:t,onChange:o,className:d,...u})});f.displayName="Textarea";const V=({initData:r})=>{const[t,o]=w.useState(()=>r!=null&&r.content&&!r.error?(console.log(`[Notepad] Initializing with content from ${r.scheme} scheme:`,{url:r.initFromUrl,contentLength:r.content.length}),r.content):r!=null&&r.error?(console.error("[Notepad] Error loading content:",r.error),`Error loading content from "${r.initFromUrl}": ${r.error}`):""),d=u=>{o(u.target.value)};return e.jsxs("div",{className:"P-0 h-full flex flex-col",children:[e.jsxs(k,{children:[e.jsxs(h,{children:[e.jsx(m,{className:"!bg-transparent !border-0",style:{background:"transparent",border:"none",boxShadow:"none",appearance:"none"},children:"File"}),e.jsxs(b,{children:[e.jsxs(s,{className:"hover:bg-muted",children:["New Document",e.jsx(c,{children:"⌘N"})]}),e.jsxs(s,{className:"hover:bg-muted",children:["Open...",e.jsx(c,{children:"⌘O"})]}),e.jsx(l,{}),e.jsxs(s,{className:"hover:bg-muted",children:["Save",e.jsx(c,{children:"⌘S"})]}),e.jsx(s,{className:"hover:bg-muted",children:"Export as PDF"}),e.jsx(l,{}),e.jsx(s,{className:"hover:bg-muted",children:"Print"})]})]}),e.jsxs(h,{children:[e.jsx(m,{className:"!bg-transparent !border-0",style:{background:"transparent",border:"none",boxShadow:"none",appearance:"none"},children:"Edit"}),e.jsxs(b,{children:[e.jsxs(s,{className:"hover:bg-muted",onClick:()=>{},children:["Undo",e.jsx(c,{children:"⌘Z"})]}),e.jsxs(s,{className:"hover:bg-muted",onClick:()=>{},children:["Redo",e.jsx(c,{children:"⇧⌘Z"})]}),e.jsx(l,{}),e.jsxs(s,{className:"hover:bg-muted",onClick:()=>{},children:["Copy",e.jsx(c,{children:"⌘C"})]}),e.jsxs(s,{className:"hover:bg-muted",onClick:()=>{},children:["Cut",e.jsx(c,{children:"⌘X"})]}),e.jsxs(s,{className:"hover:bg-muted",onClick:()=>document.execCommand("paste"),children:["Paste",e.jsx(c,{children:"⌘V"})]})]})]}),e.jsxs(h,{children:[e.jsx(m,{className:"!bg-transparent !border-0",style:{background:"transparent",border:"none",boxShadow:"none",appearance:"none"},children:"View"}),e.jsxs(b,{children:[e.jsx(s,{className:"hover:bg-muted",children:"Zoom In"}),e.jsx(s,{className:"hover:bg-muted",children:"Zoom Out"}),e.jsx(l,{}),e.jsx(s,{className:"hover:bg-muted",children:"Full Screen"})]})]}),e.jsxs(h,{children:[e.jsx(m,{className:"!bg-transparent !border-0",style:{background:"transparent",border:"none",boxShadow:"none",appearance:"none"},children:"Format"}),e.jsxs(b,{children:[e.jsx(s,{className:"hover:bg-muted",children:"Font..."}),e.jsx(s,{className:"hover:bg-muted",children:"Paragraph..."}),e.jsx(l,{}),e.jsx(s,{className:"hover:bg-muted",children:"Bullets & Numbering"}),e.jsx(l,{}),e.jsx(s,{className:"hover:bg-muted",children:"Headers & Footers"}),e.jsx(s,{className:"hover:bg-muted",children:"Page Setup..."})]})]}),e.jsxs(h,{children:[e.jsx(m,{className:"!bg-transparent !border-0",style:{background:"transparent",border:"none",boxShadow:"none",appearance:"none"},children:"Help"}),e.jsxs(b,{children:[e.jsx(s,{className:"hover:bg-muted",children:"Documentation"}),e.jsx(s,{className:"hover:bg-muted",children:"Keyboard Shortcuts"}),e.jsx(l,{}),e.jsx(s,{className:"hover:bg-muted",children:"About Word Editor"})]})]})]})," ",e.jsx(f,{apiId:N.id,className:"flex-1 w-full p-1 rounded-none resize-none bg-background text-foreground",placeholder:"Type your notes here...",value:t,onChange:d})]})};let j;const P={id:N.id,manifest:N,init:async r=>{console.log("Notepad plugin initialized",r?"with init data":"without init data"),j=r},onOpen:r=>{console.log("Notepad plugin opened",r?"with init data":"without init data"),r&&(j=r)},render:()=>e.jsx(V,{initData:j})};export{P as default};
