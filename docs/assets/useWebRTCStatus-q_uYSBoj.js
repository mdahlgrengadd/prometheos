import{r as i}from"./index-jlDGvy4N.js";let r=!1;const s="webrtc:connectionchange",a=e=>{console.log("WebRTC store: Notifying connection change to:",e),window.dispatchEvent(new CustomEvent(s,{detail:{connected:e}}))},o={getConnectionState:()=>r,setConnectionState:e=>{console.log("WebRTC store: Setting connection state to:",e),r=e,a(e)},subscribe:e=>{console.log("WebRTC store: New subscription registered");const t=c=>{const n=c;console.log("WebRTC store: Event received, notifying subscriber with state:",n.detail.connected),e(n.detail.connected)};return window.addEventListener(s,t),()=>{console.log("WebRTC store: Unsubscribing listener"),window.removeEventListener(s,t)}}};function C(){const[e,t]=i.useState(o.getConnectionState());return i.useEffect(()=>o.subscribe(n=>{t(n)}),[]),{isConnected:e,setConnected:o.setConnectionState}}export{C as u};
