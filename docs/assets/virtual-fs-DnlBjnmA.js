var h=Object.defineProperty;var p=(o,e,t)=>e in o?h(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t;var f=(o,e,t)=>p(o,typeof e!="symbol"?e+"":e,t);import{c}from"./index-BUj4FzKP.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=c("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=c("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=c("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);class y{constructor(e){f(this,"root",[]);e&&(this.root=e)}readFile(e){const t=this.findItemByPath(e);return t&&t.type==="file"?t.content:void 0}writeFile(e,t){const n=this.findItemByPath(e);n&&n.type==="file"&&(n.content=t)}listDir(e){const t=this.findItemByPath(e);return t&&t.type==="folder"&&t.children?t.children:[]}deleteFile(e){}initFromData(e){this.root=e}serialize(){return JSON.parse(JSON.stringify(this.root))}findById(e){const t=n=>{for(const r of n){if(r.id===e)return r;if(r.children){const a=t(r.children);if(a)return a}}};return t(this.root)}listChildrenById(e){const t=this.findById(e);return t&&t.type==="folder"&&t.children?t.children:[]}findItemByPath(e){if(!e||e==="/")return{type:"folder",name:"/",id:"root",children:this.root};const t=e.split("/").filter(Boolean);let n={type:"folder",name:"/",id:"root",children:this.root};for(const r of t){if(!n||n.type!=="folder"||!n.children)return;n=n.children.find(a=>a.name===r)}return n}}const j=new y;function u(o){const e={};for(const n of o){const r=n.id.split("/");let a=e,l="";for(let d=0;d<r.length;d++){const i=r[d];l=l?`${l}/${i}`:i,d===r.length-1?a[i]={...n,name:i,id:l}:(a[i]||(a[i]={id:l,name:i,type:"folder",children:{}}),a[i].children||(a[i].children={}),a=a[i].children)}}function t(n){return Object.values(n).map(r=>r.type==="folder"?{...r,children:t(r.children)}:r)}return t(e)}async function B(){try{const e=await fetch("/prometheos/shadow-manifest.json");if(!e.ok)throw new Error("Failed to load shadow-manifest.json");const t=await e.json(),n=await Promise.all(t.map(async r=>{if(r.type==="file"){const l=`/prometheos/${r.contentPath.replace(/^\//,"")}`,i=await(await fetch(l)).text();let s;return r.name.endsWith(".js")||r.name.endsWith(".jsx")?s="javascript":r.name.endsWith(".ts")||r.name.endsWith(".tsx")?s="typescript":r.name.endsWith(".css")?s="css":r.name.endsWith(".html")?s="html":r.name.endsWith(".json")&&(s="json"),{id:r.id,name:r.name,type:"file",content:i,language:s}}return{id:r.id,name:r.name,type:"folder",children:[]}}));return u(n)}catch(o){return console.error("Failed to load shadow folder:",o),[]}}export{w as F,k as S,y as V,F as a,B as l,j as v};
